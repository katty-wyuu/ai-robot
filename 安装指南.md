# Node.js 和 npm 安装指南

您的系统上还没有安装 Node.js 和 npm。请按照以下方式之一进行安装：

## 方法一：使用 Homebrew 安装（推荐）

如果您已经安装了 Homebrew，这是最简单的方式：

```bash
# 安装 Homebrew（如果还没有安装）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 使用 Homebrew 安装 Node.js（会自动包含 npm）
brew install node

# 验证安装
node --version
npm --version
```

## 方法二：使用 nvm 安装（推荐用于开发）

nvm 允许您管理多个 Node.js 版本：

```bash
# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 重新加载 shell 配置
source ~/.zshrc

# 安装最新的 LTS 版本 Node.js
nvm install --lts

# 使用该版本
nvm use --lts

# 验证安装
node --version
npm --version
```

## 方法三：从官网下载安装包

1. 访问 Node.js 官网：https://nodejs.org/
2. 下载 macOS 安装包（推荐 LTS 版本）
3. 运行下载的 `.pkg` 文件，按照安装向导完成安装
4. 打开新的终端窗口，验证安装：
   ```bash
   node --version
   npm --version
   ```

## 安装完成后

安装完成后，请按照以下步骤运行项目：

```bash
# 1. 安装所有依赖
npm run install-all

# 2. 启动项目（同时启动前后端）
npm run dev
```

或者分别启动：

```bash
# 终端1：启动后端服务器
npm run server

# 终端2：启动前端开发服务器
npm run client
```

## 验证安装

安装完成后，运行以下命令验证：

```bash
node --version   # 应该显示版本号，如 v20.x.x
npm --version    # 应该显示版本号，如 10.x.x
```

## 常见问题

### 问题：安装后仍然提示 "command not found"

**解决方案：**
1. 关闭并重新打开终端窗口
2. 或者运行：`source ~/.zshrc`（如果使用 zsh）
3. 或者运行：`source ~/.bash_profile`（如果使用 bash）

### 问题：权限错误

如果遇到权限错误，可能需要使用 `sudo`（不推荐）或修复 npm 权限：

```bash
# 创建 npm 全局目录
mkdir ~/.npm-global

# 配置 npm 使用新目录
npm config set prefix '~/.npm-global'

# 添加到 PATH（添加到 ~/.zshrc 或 ~/.bash_profile）
export PATH=~/.npm-global/bin:$PATH
```

## 推荐版本

- **Node.js**: v18.x 或 v20.x（LTS 版本）
- **npm**: 会自动随 Node.js 一起安装

安装完成后，您就可以开始使用智能对话AI助手了！

